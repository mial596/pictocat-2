@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --brand-wheat: #F8DDB5;
  --brand-liver: #6A4A3D;
  --brand-seasalt: #FAF9F7;
  --brand-buff: #DBAA74;
  --brand-uranian-blue: #A0D7F5;
  --brand-buff-dark: #b88e5f;

  --font-cartoon: 'Fredoka', sans-serif;
  --radius-cartoon: 1rem;
  --border-cartoon: 2px solid var(--brand-liver);
  --shadow-cartoon: 2px 2px 0px var(--brand-liver);
  --shadow-cartoon-hover: 4px 4px 0px var(--brand-liver);
}

body {
  font-family: var(--font-cartoon);
  background-color: var(--brand-seasalt);
  color: var(--brand-liver);
  font-weight: 500;
  /* A cleaner background */
  background-image:
      linear-gradient(rgba(106, 74, 61, 0.04) 1px, transparent 1px),
      linear-gradient(to right, rgba(106, 74, 61, 0.04) 1px, transparent 1px);
  background-size: 1.5rem 1.5rem;
}

/* --- Refined Cartoon Components --- */

.btn-cartoon {
    @apply font-bold rounded-xl transition-all duration-150 ease-in-out active:translate-y-px active:shadow-none;
    color: var(--brand-liver);
    border: var(--border-cartoon);
    box-shadow: var(--shadow-cartoon);
    padding: 0.6rem 1.25rem;
}
.btn-cartoon:hover {
    box-shadow: var(--shadow-cartoon-hover);
    transform: translateY(-2px);
}
.btn-cartoon:disabled {
    @apply bg-slate-300 text-slate-500 cursor-not-allowed border-slate-400;
    box-shadow: 2px 2px 0px var(--brand-liver);
    transform: translateY(0);
}

.btn-cartoon-primary {
    background-color: var(--brand-buff);
}
.btn-cartoon-primary:hover:not(:disabled) {
    background-color: var(--brand-buff-dark);
}

.btn-cartoon-secondary {
    background-color: var(--brand-uranian-blue);
}
.btn-cartoon-secondary:hover:not(:disabled) {
    background-color: #8ac9ec; /* a bit darker */
}

.btn-cartoon-danger {
    background-color: #ef4444; /* red-500 */
    color: white;
}
.btn-cartoon-danger:hover:not(:disabled) {
    background-color: #dc2626; /* red-600 */
}


.modal-cartoon-overlay {
    @apply fixed inset-0 flex items-center justify-center z-50 p-4;
    background-color: rgba(106, 74, 61, 0.6); /* liver/60 */
    backdrop-filter: blur(4px);
    animation: modal-overlay-fade-in 0.2s ease-out forwards;
}

.modal-cartoon-content {
    @apply w-full max-h-[90vh] flex flex-col;
    background-color: var(--brand-seasalt);
    border-radius: var(--radius-cartoon);
    border: var(--border-cartoon);
    box-shadow: 6px 6px 0px var(--brand-liver);
    animation: bounce-in 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

.input-cartoon {
    @apply w-full px-4 py-2.5 rounded-lg shadow-inner focus:outline-none focus:ring-4;
    border: var(--border-cartoon);
    background-color: #f8fafc; /* slate-50 */
    color: var(--brand-liver);
}
.input-cartoon:focus {
    border-color: var(--brand-buff);
    box-shadow: inset 2px 2px 0px rgba(0,0,0,0.05);
    --tw-ring-color: rgba(219, 170, 116, 0.4); /* buff/40 */
}

.card-cartoon {
    @apply rounded-xl transition-all duration-150 ease-in-out cursor-pointer;
    border: var(--border-cartoon);
    box-shadow: var(--shadow-cartoon);
    background-color: var(--brand-seasalt);
}
.card-cartoon:hover {
    box-shadow: var(--shadow-cartoon-hover);
    transform: translateY(-4px);
}

.card-cartoon-add {
    @apply rounded-xl transition-all duration-150 ease-in-out cursor-pointer flex flex-col items-center justify-center gap-2;
    border: 2px dashed rgba(106, 74, 61, 0.4);
    background-color: rgba(219, 170, 116, 0.1); /* buff/10 */
}
.card-cartoon-add:hover {
    border-color: var(--brand-buff);
    background-color: var(--brand-wheat);
}

/* --- New Bottom Nav Bar --- */
.bottom-nav {
    @apply fixed bottom-0 left-0 right-0 h-20 bg-seasalt/95 backdrop-blur-sm z-40 flex justify-around items-center;
    border-top: 2px solid var(--brand-liver);
}
.bottom-nav-item {
    @apply flex flex-col items-center justify-center gap-1 text-liver/60 transition-colors duration-200;
}
.bottom-nav-item.active {
    @apply text-liver font-bold;
}
.bottom-nav-item.active .icon {
    color: var(--brand-buff);
}


/* Animations */
@keyframes modal-overlay-fade-in {
  from { background-color: rgba(106, 74, 61, 0); backdrop-filter: blur(0px); }
  to { background-color: rgba(106, 74, 61, 0.6); backdrop-filter: blur(4px); }
}

@keyframes bounce-in {
  0% { opacity: 0; transform: scale(0.5); }
  100% { opacity: 1; transform: scale(1); }
}

@keyframes toast-slide-in {
  from { opacity: 0; transform: translate(-50%, 20px); }
  to { opacity: 1; transform: translate(-50%, 0); }
}

.toast-animation {
    animation: toast-slide-in 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
}

@keyframes popIn {
  0% { transform: scale(0.5); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}
.animate-popIn {
  animation: popIn 0.4s cubic-bezier(0.18, 0.89, 0.32, 1.28) forwards;
}

.perspective {
  perspective: 1000px;
}
.transform-style-3d {
  transform-style: preserve-3d;
}
.backface-hidden {
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}
.rotate-y-180 {
  transform: rotateY(180deg);
}

/* Confetti animation for reward modal */
@keyframes confetti-fall {
  0% { transform: translateY(-10vh) rotateZ(0deg) rotateY(0deg); opacity: 1; }
  100% { transform: translateY(110vh) rotateZ(720deg) rotateY(360deg); opacity: 0; }
}

.confetti-piece {
  position: absolute;
  width: 10px;
  height: 20px;
  opacity: 0;
  animation-name: confetti-fall;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

/* Specific component styles override */
/* Header action buttons */
.action-button {
    @apply flex items-center gap-2 font-bold px-3 rounded-xl transition-all h-10;
    color: var(--brand-liver);
    border: var(--border-cartoon);
    box-shadow: var(--shadow-cartoon);
}
.action-button:hover {
    box-shadow: var(--shadow-cartoon-hover);
    @apply transform -translate-y-px;
}
.action-button:active {
    box-shadow: none;
    @apply transform translate-y-px;
}
